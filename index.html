<!DOCTYPE html>
<html>
<head>
<link rel="stylesheet" href="css/style.css">
<title>Githubfinder</title>
</head>
<body>
<form action="https://github.com/search?q='marco'&type=Users"> 
<input type="text" id="marco" name="Username" placeholder="enter the username"><br>
</form>
<p>Click the "Submit" button and the username will be searched.</p><br>
<div id="username"></div><br>
<img id="avatar" height="0" width="0"</img><br>

<button type="button"onclick=search()>submit</button>
  
<script>
function search()
{var login = document.getElementById("marco").value;
var result = `query User($login: String!) {
                user(login: $login) {
                    login
                    avatar                    
                }
            }`
fetch('https://api.github.com/graphql', {
    method: 'POST',
    headers: {
        'Content-Type': 'application/json',
        'Accept': 'application/json',
        'Authorization': 'bearer e5ca75433e02365a6fcbe7350d161a2961a31391 ',
    },
  //open("https://iammarco11.github.io/hacker-blog/localhost?Username=marco"
    body: JSON.stringify({result,variables: { login },})
})
    .then(r => r.json())
    .then(data => {if(data.data.user==null){
                document.getElementById("marco").hidden = true;
                document.getElementById("avatar").hidden = true;
            }}
    )
    
}
</script>
}
</body>
</html>
